<!DOCTYPE html><!--QP7XjDgG9V0fR7T_aidRu--><html lang="vi" class="scroll-smooth"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/portfolio-blog/_next/static/css/9d3bdd9f1e15d8c0.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/portfolio-blog/_next/static/chunks/webpack-76edfa5e208bca6c.js"/><script src="/portfolio-blog/_next/static/chunks/4bd1b696-67e30520d621c4dd.js" async=""></script><script src="/portfolio-blog/_next/static/chunks/794-2191c34f3e713f20.js" async=""></script><script src="/portfolio-blog/_next/static/chunks/main-app-f6647a60c79a7108.js" async=""></script><script src="/portfolio-blog/_next/static/chunks/500-3ff701859ea2af56.js" async=""></script><script src="/portfolio-blog/_next/static/chunks/app/layout-b3b45bcae74a418e.js" async=""></script><script src="/portfolio-blog/_next/static/chunks/437-662f772b2654fde0.js" async=""></script><script src="/portfolio-blog/_next/static/chunks/app/blog/%5Bslug%5D/page-c28593380643696f.js" async=""></script><title>Lập trình TCP Sockets trong Java - Blog</title><meta name="description" content="Tìm hiểu về TCP Sockets trong Java - cách tạo kết nối hai chiều giữa client và server, xây dựng ứng dụng mạng với Socket và ServerSocket."/><meta name="author" content="Fang"/><meta name="keywords" content="Frontend Developer,UI/UX Designer,React,Next.js,JavaScript,Java,Portfolio"/><meta property="og:title" content="Truong Yen Phuong | Portfolio"/><meta property="og:description" content="Portfolio và Blog cá nhân về Frontend Development và UI/UX Design"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Truong Yen Phuong | Portfolio"/><meta name="twitter:description" content="Portfolio và Blog cá nhân về Frontend Development và UI/UX Design"/><link rel="icon" href="/portfolio-blog/favicon.ico?9e65197c8e8dbd7e" type="image/x-icon" sizes="454x454"/><script src="/portfolio-blog/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__variable_122a3f __variable_6b04fa font-sans antialiased bg-[#f0f2f5]"><div hidden=""><!--$--><!--/$--></div><nav class="fixed z-50 transition-all duration-700 ease-out top-0 left-0 right-0 rounded-none bg-[#f0f2f5]/95 backdrop-blur-xl border-b" style="border-color:var(--color--transparent)"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="relative flex justify-between items-center h-16 transition-all duration-700"><div class="flex items-center"><a class="hover:opacity-80 transition-opacity duration-300" href="/portfolio-blog/"><span class="text-[28px] font-bold text-[#161513]">Fang.</span></a></div><div class="hidden md:flex items-center space-x-6 absolute left-1/2 transform -translate-x-1/2"><a class="px-3 py-2 text-base font-medium transition-all duration-300 text-[#161513] hover:bg-gradient-to-r hover:from-[#b16cea] hover:via-[#ff5e69] hover:via-[#ff8a56] hover:to-[#ffa84b] hover:bg-clip-text hover:text-transparent" href="/portfolio-blog/">Trang chủ</a><a class="px-3 py-2 text-base font-medium transition-all duration-300 text-[#161513] hover:bg-gradient-to-r hover:from-[#b16cea] hover:via-[#ff5e69] hover:via-[#ff8a56] hover:to-[#ffa84b] hover:bg-clip-text hover:text-transparent" href="/portfolio-blog/certificates/">Chứng chỉ</a><a class="px-3 py-2 text-base font-medium transition-all duration-300 bg-gradient-to-r from-[#b16cea] via-[#ff5e69] via-[#ff8a56] to-[#ffa84b] bg-clip-text text-transparent" href="/portfolio-blog/blog/">Bài viết</a><a class="px-3 py-2 text-base font-medium transition-all duration-300 text-[#161513] hover:bg-gradient-to-r hover:from-[#b16cea] hover:via-[#ff5e69] hover:via-[#ff8a56] hover:to-[#ffa84b] hover:bg-clip-text hover:text-transparent" href="/portfolio-blog/about/">Giới thiệu</a></div><div class="flex items-center space-x-4"><div class="hidden md:block"><div class="relative overflow-hidden bg-[#161513] rounded-full group"><a class="relative block text-[#f0f2f5] px-5 py-2.5 text-sm font-medium transition-colors duration-300 group-hover:text-white z-10" href="/portfolio-blog/contact/">Liên hệ</a><div class="absolute inset-0 bg-gradient-to-r from-[#b16cea] via-[#ff5e69] via-[#ff8a56] to-[#ffa84b] transform -translate-x-full group-hover:translate-x-0 transition-transform duration-500 ease-out pointer-events-none"></div></div></div><div class="hidden md:block ml-2"><div class="flex items-center gap-2 text-sm font-medium"><button class="transition-all duration-300 text-[#161513]">VI</button><div class="w-px h-4 bg-gray-300"></div><button class="transition-all duration-300 text-gray-400 hover:bg-gradient-to-r hover:from-[#b16cea] hover:via-[#ff5e69] hover:via-[#ff8a56] hover:to-[#ffa84b] hover:bg-clip-text hover:text-transparent">EN</button></div></div><button class="md:hidden p-2 rounded-md text-gray-700 hover:bg-gray-100 transition-colors duration-300" aria-label="Toggle menu"><svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg></button></div></div></div></nav><main class="min-h-screen"><div class="pt-16 min-h-screen bg-[#f0f2f5]"><div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12"><a class="inline-flex items-center gap-2 text-[#b16cea] hover:text-[#ff5e69] mb-8 transition-colors font-medium" href="/portfolio-blog/blog/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-left w-5 h-5" aria-hidden="true"><path d="m12 19-7-7 7-7"></path><path d="M19 12H5"></path></svg><span>Quay lại Blog</span></a><div class="bg-white rounded-xl shadow-sm border border-gray-200 p-8 md:p-12 mb-8"><h1 class="text-3xl md:text-5xl font-bold text-[#161513] mb-4 leading-tight">Lập trình TCP Sockets trong Java</h1><p class="text-lg text-gray-600 leading-relaxed mb-6">Tìm hiểu về TCP Sockets trong Java - cách tạo kết nối hai chiều giữa client và server, xây dựng ứng dụng mạng với Socket và ServerSocket.</p><div class="flex items-center justify-between flex-wrap gap-4"><div class="flex flex-wrap gap-2"><span class="px-3 py-1.5 bg-gray-100 text-gray-700 rounded-full text-sm font-medium">Java</span><span class="px-3 py-1.5 bg-gray-100 text-gray-700 rounded-full text-sm font-medium">TCP</span><span class="px-3 py-1.5 bg-gray-100 text-gray-700 rounded-full text-sm font-medium">Sockets</span><span class="px-3 py-1.5 bg-gray-100 text-gray-700 rounded-full text-sm font-medium">Network Programming</span><span class="px-3 py-1.5 bg-gray-100 text-gray-700 rounded-full text-sm font-medium">Client-Server</span></div><span class="text-sm text-gray-500 whitespace-nowrap" style="font-family:var(--font-inter)">2024-03-25</span></div></div><article class="mb-12"><div class="prose prose-lg max-w-none prose-headings:text-[#161513] prose-p:text-[#374151] prose-p:leading-relaxed prose-a:text-[#b16cea] prose-a:no-underline hover:prose-a:underline prose-strong:text-[#161513] prose-code:text-[#b16cea] prose-code:bg-gray-100 prose-code:px-1.5 prose-code:py-0.5 prose-code:rounded prose-code:text-sm prose-pre:bg-[#1f2937] prose-pre:rounded-lg prose-h2:text-2xl prose-h2:font-bold prose-h2:mt-12 prose-h2:mb-6 prose-h3:text-xl prose-h3:font-semibold prose-h3:mt-8 prose-h3:mb-4"><h2>Khi networking làm tôi "đau đầu" trong những ngày đầu học</h2>
<p>Xin chào các bạn! Mình là sinh viên năm 4 ngành CNTT, và hôm nay mình muốn chia sẻ về hành trình học TCP Sockets trong Java. Đây là một chủ đề mà lúc đầu mình thấy siêu khó hiểu, networking concepts phức tạp, code thì dài dòng, debug thì mò mẫm.</p>
<p>Mình còn nhớ như in ngày đầu tiên học môn Lập trình mạng. Giáo viên giảng về client-server architecture, TCP/IP protocol stack, mà mình chỉ biết gật gù theo. "Socket là cái gì? Tại sao phải dùng port? Client và server khác nhau chỗ nào?"</p>
<p>Sau bao nhiêu lần debug, bao nhiêu đêm thức khuya fix bug, mình mới hiểu ra: TCP Sockets không chỉ là code, mà là cách để hai chương trình "nói chuyện" với nhau qua mạng. Bài viết này là những gì mình học được sau 3 tháng vật lộn với TCP Sockets.</p>
<h2>TCP Sockets là gì? - Hiểu đơn giản thôi!</h2>
<p>TCP Socket đơn giản là một "điểm cuối" để kết nối mạng. Nó như cái điện thoại vậy - một bên gọi (client), một bên nghe (server), và chúng có thể trao đổi dữ liệu qua lại.</p>
<p>Điều làm mình ấn tượng nhất là TCP đảm bảo dữ liệu "đến đúng, đủ, có thứ tự". Khác với UDP (mình sẽ giải thích sau), TCP như dịch vụ giao hàng có bảo hiểm - chậm một chút nhưng chắc chắn không thất lạc.</p>
<p>Mình đã thử build một echo server đơn giản làm bài tập. Khi client gửi "Hello", server trả về "Hello" - khoảnh khắc thấy nó hoạt động, mình như trúng thưởng vậy! Lần đầu tiên trong đời, mình làm được hai chương trình "nói chuyện" với nhau qua mạng.</p>
<h2>TCP vs UDP - Sự khác biệt làm mình đau đầu nhất</h2>
<p>Lúc đầu học networking, mình cứ bị confuse mãi về TCP và UDP. Giáo viên giảng UDP "nhanh hơn, ít overhead hơn" nhưng "không đảm bảo delivery". Mình ngồi nghĩ mãi: tại sao lại có hai protocol khác nhau thế này?</p>
<p>Rồi mình hiểu ra sự khác biệt qua những ví dụ thực tế:</p>
<p><strong>TCP như gửi thư bảo đảm:</strong></p>
<ul>
<li>Chậm hơn (phải xác nhận đã nhận)</li>
<li>Nhưng chắc chắn 100% đến nơi</li>
<li>Dữ liệu đến đúng thứ tự</li>
</ul>
<p><strong>UDP như gửi postcard:</strong></p>
<ul>
<li>Nhanh như bay (không cần xác nhận)</li>
<li>Có thể bị mất dọc đường</li>
<li>Thứ tự không đảm bảo</li>
</ul>
<p>Trong bài tập đầu tiên, mình dùng TCP cho chat app vì sợ mất tin nhắn. Nhưng khi làm game đơn giản, mình thử dùng UDP cho position updates - wow, mượt mà hẳn ra! Đó là lúc mình hiểu: chọn protocol phụ thuộc vào use case.</p>
<p>Bây giờ mình đã nhớ kỹ: TCP cho reliable communication (chat, file transfer), UDP cho real-time applications (gaming, streaming) cần speed hơn reliability.</p>
<h2>TCP Server - Khi mình finally hiểu được "server là gì"</h2>
<p>Lúc đầu, khái niệm "server" làm mình confuse lắm. ServerSocket là cái gì? Tại sao phải listen trên port? Tại sao cần thread để xử lý client?</p>
<p>Mình đã dành cả buổi tối để debug server đầu tiên. Ban đầu server chỉ xử lý được 1 client, client thứ 2 phải chờ. Rồi mình học được multi-threading - mỗi client được xử lý trong thread riêng.</p>
<p>Cái khó nhất là error handling. Connection có thể đứt bất cứ lúc nào, IOException có thể xảy ra ở bất kỳ đâu. Mình đã mất 2 ngày để handle properly các edge cases.</p>
<p>Đây là server đơn giản nhất mà mình từng viết - echo server:</p>
<pre><code class="language-java">public class SimpleTCPServer {
    public static void main(String[] args) throws IOException {
        ServerSocket serverSocket = new ServerSocket(8080);
        System.out.println("Server đang chờ kết nối trên port 8080...");

        while (true) {
            Socket clientSocket = serverSocket.accept();
            System.out.println("Client mới kết nối!");
            // Mỗi client trong thread riêng
            new Thread(() -> handleClient(clientSocket)).start();
        }
    }

    private static void handleClient(Socket clientSocket) {
        try (BufferedReader in = new BufferedReader(
                new InputStreamReader(clientSocket.getInputStream()));
             PrintWriter out = new PrintWriter(
                clientSocket.getOutputStream(), true)) {

            String message;
            while ((message = in.readLine()) != null) {
                System.out.println("Client: " + message);
                out.println("Server echo: " + message); // Trả lời client
            }
        } catch (IOException e) {
            System.err.println("Lỗi: " + e.getMessage());
        }
    }
}
</code></pre>
<p>Khó khăn lớn nhất của mình là hiểu được:</p>
<ul>
<li>ServerSocket.accept() là blocking call - nó chờ client kết nối</li>
<li>Mỗi client cần được xử lý trong thread riêng để không block server</li>
<li>Phải close socket properly để tránh memory leak</li>
</ul>
<h3>TCP Client - Phía dễ hơn nhưng cũng có những cạm bẫy</h3>
<p>So với server, client code đơn giản hơn nhiều. Chỉ cần tạo Socket và kết nối đến server. Nhưng mình cũng gặp một số vấn đề:</p>
<ul>
<li>Blocking I/O: khi đọc từ server, program bị block nếu không có data</li>
<li>Threading: cần thread riêng để đọc và ghi đồng thời</li>
<li>Connection management: biết khi nào connection bị đứt</li>
</ul>
<p>Mình đã thử viết client blocking I/O trước. Kết quả: khi server không gửi gì, client bị treo cứng. Rồi mình học được non-blocking I/O với threads.</p>
<p>Đây là client mà mình viết sau khi hiểu được threading:</p>
<pre><code class="language-java">public class SimpleTCPClient {
    public static void main(String[] args) {
        try (Socket socket = new Socket("localhost", 8080);
             PrintWriter out = new PrintWriter(socket.getOutputStream(), true);
             BufferedReader in = new BufferedReader(
                new InputStreamReader(socket.getInputStream()));
             Scanner scanner = new Scanner(System.in)) {

            System.out.println("Đã kết nối đến server!");

            // Thread riêng để đọc response từ server
            Thread reader = new Thread(() -> {
                try {
                    String response;
                    while ((response = in.readLine()) != null) {
                        System.out.println("Server: " + response);
                    }
                } catch (IOException e) {
                    System.out.println("Mất kết nối với server");
                }
            });
            reader.start();

            // Main thread gửi message
            String message;
            while (!(message = scanner.nextLine()).equals("quit")) {
                out.println(message);
            }

        } catch (IOException e) {
            System.err.println("Không thể kết nối: " + e.getMessage());
        }
    }
}
</code></pre>
<p>Bài học lớn nhất: client cũng cần threading để handle bidirectional communication. Một thread đọc, một thread ghi.</p>
<h3>Xử lý nhiều Client - Threading làm mình muốn điên</h3>
<p>Đây là phần khó nhất của mình. Server single-threaded chỉ xử lý được 1 client, client khác phải chờ. Nhưng multi-threading có quá nhiều complexity:</p>
<ul>
<li>Race conditions khi nhiều threads access shared data</li>
<li>Memory leaks nếu không close threads properly</li>
<li>Deadlocks nếu không handle synchronization</li>
<li>Performance issues với too many threads</li>
</ul>
<p>Mình đã thử Thread Pool sau khi học được từ bài giảng. ExecutorService giúp manage threads tốt hơn, nhưng vẫn phức tạp.</p>
<p>Bài học của mình: bắt đầu với simple multi-threading, rồi mới học advanced concepts như thread pools. Don't try to optimize prematurely!</p>
<pre><code class="language-java">public class MultiClientServer {
    private static final int PORT = 8080;
    private static ExecutorService threadPool = Executors.newFixedThreadPool(10);

    public static void main(String[] args) throws IOException {
        ServerSocket serverSocket = new ServerSocket(PORT);
        System.out.println("Server đang chạy trên port " + PORT);

        while (true) {
            Socket client = serverSocket.accept();
            System.out.println("Client mới kết nối");
            // Mỗi client trong thread riêng từ pool
            threadPool.submit(() -> handleClient(client));
        }
    }

    private static void handleClient(Socket client) {
        try (BufferedReader in = new BufferedReader(
                new InputStreamReader(client.getInputStream()));
             PrintWriter out = new PrintWriter(client.getOutputStream(), true)) {

            out.println("Chào mừng! Gõ quit để thoát.");

            String message;
            while ((message = in.readLine()) != null) {
                if ("quit".equals(message)) break;
                out.println("Server: " + message.toUpperCase());
            }
        } catch (IOException e) {
            e.printStackTrace();
        } finally {
            try {
                client.close();
            } catch (IOException e) {
                e.printStackTrace();
            }
        }
    }
}
</code></pre>
<p>Mình mất 1 tuần để debug multi-threading issues. Nhưng khi nó work, cảm giác thật tuyệt vời!</p>
<h3>Những gì mình học thêm ngoài basic communication</h3>
<p>Sau khi nắm được basic client-server communication, mình còn học thêm một số topics nâng cao:</p>
<p><strong>Object serialization qua network:</strong>
Mình đã thử gửi Java objects qua socket thay vì chỉ text. Học được ObjectOutputStream/ObjectInputStream, nhưng cũng gặp vấn đề với ClassNotFoundException khi deserialize.</p>
<p><strong>File transfer:</strong>
Bài tập gửi file qua socket làm mình hiểu về binary data transfer. Phải handle buffer size, progress tracking, và error recovery.</p>
<p><strong>Socket configuration:</strong>
Timeout settings, buffer sizes, TCP_NODELAY - những low-level optimizations mà lúc đầu mình không hiểu tại sao cần.</p>
<p>Tất cả những topics này đều khó, nhưng chúng giúp mình appreciate được complexity của network programming. Mình nhận ra: basic text communication chỉ là bước đầu, real-world applications cần handle nhiều edge cases hơn.</p>
<h2>Những bài học sau 3 tháng vật lộn với TCP Sockets</h2>
<p>Sau bao nhiêu đêm thức khuya debug, bao nhiêu lần rebuild server từ đầu, mình rút ra được một số bài học quý báu:</p>
<p><strong>Thứ nhất: Multi-threading không thể thiếu</strong>
Server đầu tiên của mình chỉ xử lý được 1 client. Khi client thứ 2 kết nối, nó phải chờ. Mình học được: mỗi client cần thread riêng, nếu không server sẽ block hoàn toàn.</p>
<p><strong>Thứ hai: Error handling là 50% công việc</strong>
Network unreliable lắm! Connection đứt, timeout, invalid data - mọi thứ có thể xảy ra. Mình đã từng crash cả server vì không handle IOException properly.</p>
<p><strong>Thứ ba: TCP vs UDP - phụ thuộc vào use case</strong>
Đừng nghĩ TCP luôn tốt hơn. Với game real-time, UDP phù hợp hơn vì speed quan trọng hơn reliability. Với chat app thì TCP chắc chắn.</p>
<p><strong>Thứ tư: Start simple, iterate</strong>
Đừng cố làm multi-client server ngay từ đầu. Mình đã fail nhiều lần vì try to do everything cùng lúc. Bắt đầu với echo server, rồi thêm features dần.</p>
<p><strong>Thứ năm: Debugging networking cực kỳ khó</strong>
Print statements không đủ. Mình phải học Wireshark để capture network packets. Khó khăn nhưng đáng giá.</p>
<h2>Kết luận: TCP Sockets - Khi networking không còn "đau đầu" nữa</h2>
<p>Sau 3 tháng vật lộn với TCP Sockets, mình có thể tự tin nói: đây là một trong những chủ đề khó nhất nhưng cũng thú vị nhất mà mình từng học.</p>
<p>Từ một sinh viên networking newbie - confuse về client-server, sợ multi-threading, đến nay mình có thể build chat server với multi-client support. Đó là một journey đầy gian nan nhưng đáng nhớ.</p>
<p>TCP Sockets dạy mình nhiều điều không chỉ về code, mà về real-world programming: handle failures gracefully, think about concurrency, và appreciate reliability của network protocols.</p>
<p>Nếu bạn đang học networking và cảm thấy khó khăn như mình ngày xưa, hãy kiên trì nhé! Mỗi bug fix, mỗi successful connection là một bước tiến.</p>
<p><strong>Lời khuyên cho các bạn sinh viên:</strong></p>
<ul>
<li>Bắt đầu với simple echo server trước</li>
<li>Debug từng bước một, don't rush</li>
<li>Học multi-threading từ early</li>
<li>Practice với Wireshark để understand network</li>
</ul>
<p>Nếu bài viết này giúp ích được gì cho bạn, hãy share cho bạn bè cùng lớp nhé! Networking khó nhưng khi conquer được, bạn sẽ thấy nó amazing lắm.</p>
<p><em>P.S: Đây là những gì mình học được trong môn Lập trình mạng. Nếu có gì sai sót, hãy comment để mình học hỏi thêm nhé!</em></p>
</div></article><div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8"><div class="flex items-center justify-between flex-wrap gap-6"><div class="flex items-center gap-4"><div class="relative w-16 h-16 rounded-full overflow-hidden bg-gradient-to-br from-indigo-400 to-purple-500 flex-shrink-0"><img alt="Truong Yen Phuong" loading="lazy" decoding="async" data-nimg="fill" class="object-cover" style="position:absolute;height:100%;width:100%;left:0;top:0;right:0;bottom:0;color:transparent" src="/images/avatar/avatar.png"/></div><div><h3 class="font-semibold text-[#161513] text-lg mb-1">Truong Yen Phuong</h3><p class="text-sm text-gray-600">Tổng hợp kinh nghiệm</p></div></div><div class="flex items-center gap-4 flex-wrap"><div class="flex items-center gap-2"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-share2 lucide-share-2 w-5 h-5 text-[#b16cea]" aria-hidden="true"><circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" x2="15.42" y1="13.51" y2="17.49"></line><line x1="15.41" x2="8.59" y1="6.51" y2="10.49"></line></svg><span class="font-semibold text-[#161513]">Chia sẻ bài viết:</span></div><div class="flex items-center gap-2"><button type="button" class="social-link w-inline-block gradient" aria-label="Share on Facebook"><div class="social-icon-wrapper" style="background-color:#f0f2f5"><div class="social-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-facebook w-5 h-5" aria-hidden="true"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg></div></div></button><button type="button" class="social-link w-inline-block gradient" aria-label="Share on X"><div class="social-icon-wrapper" style="background-color:#f0f2f5"><div class="social-icon"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path></svg></div></div></button><button type="button" class="social-link w-inline-block gradient" aria-label="Share on LinkedIn"><div class="social-icon-wrapper" style="background-color:#f0f2f5"><div class="social-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-linkedin w-5 h-5" aria-hidden="true"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect width="4" height="12" x="2" y="9"></rect><circle cx="4" cy="4" r="2"></circle></svg></div></div></button><button type="button" class="social-link w-inline-block gradient" aria-label="Copy link"><div class="social-icon-wrapper" style="background-color:#f0f2f5"><div class="social-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy w-5 h-5" aria-hidden="true"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></div></div></button></div></div></div></div><div class="text-center"><a class="inline-flex items-center gap-2 px-8 py-3 bg-gradient-to-r from-[#b16cea] to-[#ff5e69] text-white rounded-lg font-semibold hover:opacity-90 transition-opacity" href="/portfolio-blog/blog/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-left w-5 h-5" aria-hidden="true"><path d="m12 19-7-7 7-7"></path><path d="M19 12H5"></path></svg>Xem tất cả bài viết</a></div></div></div><!--$--><!--/$--></main><footer class="footer bg-[#f0f2f5]"><div class="w-layout-blockcontainer container w-container"><div class="divider" style="background-color:rgb(22, 21, 19)"></div><div class="footer-wrap"><div class="flex footer-left"><a class="brand-logo " href="/portfolio-blog/"><span class="text-[30px] font-bold text-[#161513]">Fang.</span></a><div class="copyright dark" style="color:rgb(22, 21, 19)">© 2025 Designed by Truong Yen Phuong</div></div><div class="flex footer-right"><div class="nav-link-wrap"><a class="nav-link footer-link " style="color:rgb(22, 21, 19)" href="/portfolio-blog/">Trang chủ</a><a class="nav-link footer-link " style="color:rgb(22, 21, 19)" href="/portfolio-blog/certificates/">Chứng chỉ</a><a class="nav-link footer-link w--current" style="color:rgb(22, 21, 19)" href="/portfolio-blog/blog/">Bài viết</a><a class="nav-link footer-link " style="color:rgb(22, 21, 19)" href="/portfolio-blog/about/">Giới thiệu</a></div><div class="social-link-wrap"><a href="https://github.com/Pt-14" target="_blank" rel="noopener noreferrer" class="social-link w-inline-block gradient"><div class="social-icon-wrapper"><div class="social-icon"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg></div></div></a><a href="https://www.linkedin.com/in/phuong-truong-yen-894359371/" target="_blank" rel="noopener noreferrer" class="social-link w-inline-block gradient"><div class="social-icon-wrapper"><div class="social-icon"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path></svg></div></div></a><a href="https://x.com/itsnongfang" target="_blank" rel="noopener noreferrer" class="social-link w-inline-block gradient"><div class="social-icon-wrapper"><div class="social-icon"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path></svg></div></div></a><a href="https://www.facebook.com/phuong.yentruon" target="_blank" rel="noopener noreferrer" class="social-link w-inline-block gradient"><div class="social-icon-wrapper"><div class="social-icon"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"></path></svg></div></div></a><a href="https://www.instagram.com/heaven__fang/" target="_blank" rel="noopener noreferrer" class="social-link w-inline-block gradient"><div class="social-icon-wrapper"><div class="social-icon"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"></path></svg></div></div></a></div></div></div></div></footer><script src="/portfolio-blog/_next/static/chunks/webpack-76edfa5e208bca6c.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[4132,[\"500\",\"static/chunks/500-3ff701859ea2af56.js\",\"177\",\"static/chunks/app/layout-b3b45bcae74a418e.js\"],\"LanguageProvider\"]\n3:I[5727,[\"500\",\"static/chunks/500-3ff701859ea2af56.js\",\"177\",\"static/chunks/app/layout-b3b45bcae74a418e.js\"],\"default\"]\n4:I[7121,[],\"\"]\n5:I[4581,[],\"\"]\n6:I[5384,[\"500\",\"static/chunks/500-3ff701859ea2af56.js\",\"177\",\"static/chunks/app/layout-b3b45bcae74a418e.js\"],\"default\"]\n8:I[484,[],\"OutletBoundary\"]\n9:\"$Sreact.suspense\"\nb:I[484,[],\"ViewportBoundary\"]\nd:I[484,[],\"MetadataBoundary\"]\nf:I[7123,[],\"\"]\n:HL[\"/portfolio-blog/_next/static/css/9d3bdd9f1e15d8c0.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"QP7XjDgG9V0fR7T_aidRu\",\"c\":[\"\",\"blog\",\"java-oop\",\"\"],\"q\":\"\",\"i\":false,\"f\":[[[\"\",{\"children\":[\"blog\",{\"children\":[[\"slug\",\"java-oop\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/portfolio-blog/_next/static/css/9d3bdd9f1e15d8c0.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"vi\",\"className\":\"scroll-smooth\",\"children\":[\"$\",\"body\",null,{\"className\":\"__variable_122a3f __variable_6b04fa font-sans antialiased bg-[#f0f2f5]\",\"children\":[\"$\",\"$L2\",null,{\"children\":[[\"$\",\"$L3\",null,{}],[\"$\",\"main\",null,{\"className\":\"min-h-screen\",\"children\":[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}],[\"$\",\"$L6\",null,{}]]}]}]}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[\"$L7\",null,[\"$\",\"$L8\",null,{\"children\":[\"$\",\"$9\",null,{\"name\":\"Next.MetadataOutlet\",\"children\":\"$@a\"}]}]]}],{},null,false,false]},null,false,false]},null,false,false]},null,false,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$Lb\",null,{\"children\":\"$Lc\"}],[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$Ld\",null,{\"children\":[\"$\",\"$9\",null,{\"name\":\"Next.Metadata\",\"children\":\"$Le\"}]}]}],null]}],false]],\"m\":\"$undefined\",\"G\":[\"$f\",[]],\"S\":true}\n"])</script><script>self.__next_f.push([1,"10:I[8500,[\"437\",\"static/chunks/437-662f772b2654fde0.js\",\"500\",\"static/chunks/500-3ff701859ea2af56.js\",\"953\",\"static/chunks/app/blog/%5Bslug%5D/page-c28593380643696f.js\"],\"\"]\n11:T3707,"])</script><script>self.__next_f.push([1,"\u003ch2\u003eKhi networking làm tôi \"đau đầu\" trong những ngày đầu học\u003c/h2\u003e\n\u003cp\u003eXin chào các bạn! Mình là sinh viên năm 4 ngành CNTT, và hôm nay mình muốn chia sẻ về hành trình học TCP Sockets trong Java. Đây là một chủ đề mà lúc đầu mình thấy siêu khó hiểu, networking concepts phức tạp, code thì dài dòng, debug thì mò mẫm.\u003c/p\u003e\n\u003cp\u003eMình còn nhớ như in ngày đầu tiên học môn Lập trình mạng. Giáo viên giảng về client-server architecture, TCP/IP protocol stack, mà mình chỉ biết gật gù theo. \"Socket là cái gì? Tại sao phải dùng port? Client và server khác nhau chỗ nào?\"\u003c/p\u003e\n\u003cp\u003eSau bao nhiêu lần debug, bao nhiêu đêm thức khuya fix bug, mình mới hiểu ra: TCP Sockets không chỉ là code, mà là cách để hai chương trình \"nói chuyện\" với nhau qua mạng. Bài viết này là những gì mình học được sau 3 tháng vật lộn với TCP Sockets.\u003c/p\u003e\n\u003ch2\u003eTCP Sockets là gì? - Hiểu đơn giản thôi!\u003c/h2\u003e\n\u003cp\u003eTCP Socket đơn giản là một \"điểm cuối\" để kết nối mạng. Nó như cái điện thoại vậy - một bên gọi (client), một bên nghe (server), và chúng có thể trao đổi dữ liệu qua lại.\u003c/p\u003e\n\u003cp\u003eĐiều làm mình ấn tượng nhất là TCP đảm bảo dữ liệu \"đến đúng, đủ, có thứ tự\". Khác với UDP (mình sẽ giải thích sau), TCP như dịch vụ giao hàng có bảo hiểm - chậm một chút nhưng chắc chắn không thất lạc.\u003c/p\u003e\n\u003cp\u003eMình đã thử build một echo server đơn giản làm bài tập. Khi client gửi \"Hello\", server trả về \"Hello\" - khoảnh khắc thấy nó hoạt động, mình như trúng thưởng vậy! Lần đầu tiên trong đời, mình làm được hai chương trình \"nói chuyện\" với nhau qua mạng.\u003c/p\u003e\n\u003ch2\u003eTCP vs UDP - Sự khác biệt làm mình đau đầu nhất\u003c/h2\u003e\n\u003cp\u003eLúc đầu học networking, mình cứ bị confuse mãi về TCP và UDP. Giáo viên giảng UDP \"nhanh hơn, ít overhead hơn\" nhưng \"không đảm bảo delivery\". Mình ngồi nghĩ mãi: tại sao lại có hai protocol khác nhau thế này?\u003c/p\u003e\n\u003cp\u003eRồi mình hiểu ra sự khác biệt qua những ví dụ thực tế:\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eTCP như gửi thư bảo đảm:\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eChậm hơn (phải xác nhận đã nhận)\u003c/li\u003e\n\u003cli\u003eNhưng chắc chắn 100% đến nơi\u003c/li\u003e\n\u003cli\u003eDữ liệu đến đúng thứ tự\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003eUDP như gửi postcard:\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eNhanh như bay (không cần xác nhận)\u003c/li\u003e\n\u003cli\u003eCó thể bị mất dọc đường\u003c/li\u003e\n\u003cli\u003eThứ tự không đảm bảo\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eTrong bài tập đầu tiên, mình dùng TCP cho chat app vì sợ mất tin nhắn. Nhưng khi làm game đơn giản, mình thử dùng UDP cho position updates - wow, mượt mà hẳn ra! Đó là lúc mình hiểu: chọn protocol phụ thuộc vào use case.\u003c/p\u003e\n\u003cp\u003eBây giờ mình đã nhớ kỹ: TCP cho reliable communication (chat, file transfer), UDP cho real-time applications (gaming, streaming) cần speed hơn reliability.\u003c/p\u003e\n\u003ch2\u003eTCP Server - Khi mình finally hiểu được \"server là gì\"\u003c/h2\u003e\n\u003cp\u003eLúc đầu, khái niệm \"server\" làm mình confuse lắm. ServerSocket là cái gì? Tại sao phải listen trên port? Tại sao cần thread để xử lý client?\u003c/p\u003e\n\u003cp\u003eMình đã dành cả buổi tối để debug server đầu tiên. Ban đầu server chỉ xử lý được 1 client, client thứ 2 phải chờ. Rồi mình học được multi-threading - mỗi client được xử lý trong thread riêng.\u003c/p\u003e\n\u003cp\u003eCái khó nhất là error handling. Connection có thể đứt bất cứ lúc nào, IOException có thể xảy ra ở bất kỳ đâu. Mình đã mất 2 ngày để handle properly các edge cases.\u003c/p\u003e\n\u003cp\u003eĐây là server đơn giản nhất mà mình từng viết - echo server:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-java\"\u003epublic class SimpleTCPServer {\n    public static void main(String[] args) throws IOException {\n        ServerSocket serverSocket = new ServerSocket(8080);\n        System.out.println(\"Server đang chờ kết nối trên port 8080...\");\n\n        while (true) {\n            Socket clientSocket = serverSocket.accept();\n            System.out.println(\"Client mới kết nối!\");\n            // Mỗi client trong thread riêng\n            new Thread(() -\u003e handleClient(clientSocket)).start();\n        }\n    }\n\n    private static void handleClient(Socket clientSocket) {\n        try (BufferedReader in = new BufferedReader(\n                new InputStreamReader(clientSocket.getInputStream()));\n             PrintWriter out = new PrintWriter(\n                clientSocket.getOutputStream(), true)) {\n\n            String message;\n            while ((message = in.readLine()) != null) {\n                System.out.println(\"Client: \" + message);\n                out.println(\"Server echo: \" + message); // Trả lời client\n            }\n        } catch (IOException e) {\n            System.err.println(\"Lỗi: \" + e.getMessage());\n        }\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eKhó khăn lớn nhất của mình là hiểu được:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eServerSocket.accept() là blocking call - nó chờ client kết nối\u003c/li\u003e\n\u003cli\u003eMỗi client cần được xử lý trong thread riêng để không block server\u003c/li\u003e\n\u003cli\u003ePhải close socket properly để tránh memory leak\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003eTCP Client - Phía dễ hơn nhưng cũng có những cạm bẫy\u003c/h3\u003e\n\u003cp\u003eSo với server, client code đơn giản hơn nhiều. Chỉ cần tạo Socket và kết nối đến server. Nhưng mình cũng gặp một số vấn đề:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eBlocking I/O: khi đọc từ server, program bị block nếu không có data\u003c/li\u003e\n\u003cli\u003eThreading: cần thread riêng để đọc và ghi đồng thời\u003c/li\u003e\n\u003cli\u003eConnection management: biết khi nào connection bị đứt\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eMình đã thử viết client blocking I/O trước. Kết quả: khi server không gửi gì, client bị treo cứng. Rồi mình học được non-blocking I/O với threads.\u003c/p\u003e\n\u003cp\u003eĐây là client mà mình viết sau khi hiểu được threading:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-java\"\u003epublic class SimpleTCPClient {\n    public static void main(String[] args) {\n        try (Socket socket = new Socket(\"localhost\", 8080);\n             PrintWriter out = new PrintWriter(socket.getOutputStream(), true);\n             BufferedReader in = new BufferedReader(\n                new InputStreamReader(socket.getInputStream()));\n             Scanner scanner = new Scanner(System.in)) {\n\n            System.out.println(\"Đã kết nối đến server!\");\n\n            // Thread riêng để đọc response từ server\n            Thread reader = new Thread(() -\u003e {\n                try {\n                    String response;\n                    while ((response = in.readLine()) != null) {\n                        System.out.println(\"Server: \" + response);\n                    }\n                } catch (IOException e) {\n                    System.out.println(\"Mất kết nối với server\");\n                }\n            });\n            reader.start();\n\n            // Main thread gửi message\n            String message;\n            while (!(message = scanner.nextLine()).equals(\"quit\")) {\n                out.println(message);\n            }\n\n        } catch (IOException e) {\n            System.err.println(\"Không thể kết nối: \" + e.getMessage());\n        }\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eBài học lớn nhất: client cũng cần threading để handle bidirectional communication. Một thread đọc, một thread ghi.\u003c/p\u003e\n\u003ch3\u003eXử lý nhiều Client - Threading làm mình muốn điên\u003c/h3\u003e\n\u003cp\u003eĐây là phần khó nhất của mình. Server single-threaded chỉ xử lý được 1 client, client khác phải chờ. Nhưng multi-threading có quá nhiều complexity:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eRace conditions khi nhiều threads access shared data\u003c/li\u003e\n\u003cli\u003eMemory leaks nếu không close threads properly\u003c/li\u003e\n\u003cli\u003eDeadlocks nếu không handle synchronization\u003c/li\u003e\n\u003cli\u003ePerformance issues với too many threads\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eMình đã thử Thread Pool sau khi học được từ bài giảng. ExecutorService giúp manage threads tốt hơn, nhưng vẫn phức tạp.\u003c/p\u003e\n\u003cp\u003eBài học của mình: bắt đầu với simple multi-threading, rồi mới học advanced concepts như thread pools. Don't try to optimize prematurely!\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-java\"\u003epublic class MultiClientServer {\n    private static final int PORT = 8080;\n    private static ExecutorService threadPool = Executors.newFixedThreadPool(10);\n\n    public static void main(String[] args) throws IOException {\n        ServerSocket serverSocket = new ServerSocket(PORT);\n        System.out.println(\"Server đang chạy trên port \" + PORT);\n\n        while (true) {\n            Socket client = serverSocket.accept();\n            System.out.println(\"Client mới kết nối\");\n            // Mỗi client trong thread riêng từ pool\n            threadPool.submit(() -\u003e handleClient(client));\n        }\n    }\n\n    private static void handleClient(Socket client) {\n        try (BufferedReader in = new BufferedReader(\n                new InputStreamReader(client.getInputStream()));\n             PrintWriter out = new PrintWriter(client.getOutputStream(), true)) {\n\n            out.println(\"Chào mừng! Gõ quit để thoát.\");\n\n            String message;\n            while ((message = in.readLine()) != null) {\n                if (\"quit\".equals(message)) break;\n                out.println(\"Server: \" + message.toUpperCase());\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            try {\n                client.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eMình mất 1 tuần để debug multi-threading issues. Nhưng khi nó work, cảm giác thật tuyệt vời!\u003c/p\u003e\n\u003ch3\u003eNhững gì mình học thêm ngoài basic communication\u003c/h3\u003e\n\u003cp\u003eSau khi nắm được basic client-server communication, mình còn học thêm một số topics nâng cao:\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eObject serialization qua network:\u003c/strong\u003e\nMình đã thử gửi Java objects qua socket thay vì chỉ text. Học được ObjectOutputStream/ObjectInputStream, nhưng cũng gặp vấn đề với ClassNotFoundException khi deserialize.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eFile transfer:\u003c/strong\u003e\nBài tập gửi file qua socket làm mình hiểu về binary data transfer. Phải handle buffer size, progress tracking, và error recovery.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eSocket configuration:\u003c/strong\u003e\nTimeout settings, buffer sizes, TCP_NODELAY - những low-level optimizations mà lúc đầu mình không hiểu tại sao cần.\u003c/p\u003e\n\u003cp\u003eTất cả những topics này đều khó, nhưng chúng giúp mình appreciate được complexity của network programming. Mình nhận ra: basic text communication chỉ là bước đầu, real-world applications cần handle nhiều edge cases hơn.\u003c/p\u003e\n\u003ch2\u003eNhững bài học sau 3 tháng vật lộn với TCP Sockets\u003c/h2\u003e\n\u003cp\u003eSau bao nhiêu đêm thức khuya debug, bao nhiêu lần rebuild server từ đầu, mình rút ra được một số bài học quý báu:\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eThứ nhất: Multi-threading không thể thiếu\u003c/strong\u003e\nServer đầu tiên của mình chỉ xử lý được 1 client. Khi client thứ 2 kết nối, nó phải chờ. Mình học được: mỗi client cần thread riêng, nếu không server sẽ block hoàn toàn.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eThứ hai: Error handling là 50% công việc\u003c/strong\u003e\nNetwork unreliable lắm! Connection đứt, timeout, invalid data - mọi thứ có thể xảy ra. Mình đã từng crash cả server vì không handle IOException properly.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eThứ ba: TCP vs UDP - phụ thuộc vào use case\u003c/strong\u003e\nĐừng nghĩ TCP luôn tốt hơn. Với game real-time, UDP phù hợp hơn vì speed quan trọng hơn reliability. Với chat app thì TCP chắc chắn.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eThứ tư: Start simple, iterate\u003c/strong\u003e\nĐừng cố làm multi-client server ngay từ đầu. Mình đã fail nhiều lần vì try to do everything cùng lúc. Bắt đầu với echo server, rồi thêm features dần.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eThứ năm: Debugging networking cực kỳ khó\u003c/strong\u003e\nPrint statements không đủ. Mình phải học Wireshark để capture network packets. Khó khăn nhưng đáng giá.\u003c/p\u003e\n\u003ch2\u003eKết luận: TCP Sockets - Khi networking không còn \"đau đầu\" nữa\u003c/h2\u003e\n\u003cp\u003eSau 3 tháng vật lộn với TCP Sockets, mình có thể tự tin nói: đây là một trong những chủ đề khó nhất nhưng cũng thú vị nhất mà mình từng học.\u003c/p\u003e\n\u003cp\u003eTừ một sinh viên networking newbie - confuse về client-server, sợ multi-threading, đến nay mình có thể build chat server với multi-client support. Đó là một journey đầy gian nan nhưng đáng nhớ.\u003c/p\u003e\n\u003cp\u003eTCP Sockets dạy mình nhiều điều không chỉ về code, mà về real-world programming: handle failures gracefully, think about concurrency, và appreciate reliability của network protocols.\u003c/p\u003e\n\u003cp\u003eNếu bạn đang học networking và cảm thấy khó khăn như mình ngày xưa, hãy kiên trì nhé! Mỗi bug fix, mỗi successful connection là một bước tiến.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eLời khuyên cho các bạn sinh viên:\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eBắt đầu với simple echo server trước\u003c/li\u003e\n\u003cli\u003eDebug từng bước một, don't rush\u003c/li\u003e\n\u003cli\u003eHọc multi-threading từ early\u003c/li\u003e\n\u003cli\u003ePractice với Wireshark để understand network\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eNếu bài viết này giúp ích được gì cho bạn, hãy share cho bạn bè cùng lớp nhé! Networking khó nhưng khi conquer được, bạn sẽ thấy nó amazing lắm.\u003c/p\u003e\n\u003cp\u003e\u003cem\u003eP.S: Đây là những gì mình học được trong môn Lập trình mạng. Nếu có gì sai sót, hãy comment để mình học hỏi thêm nhé!\u003c/em\u003e\u003c/p\u003e\n"])</script><script>self.__next_f.push([1,"7:[\"$\",\"div\",null,{\"className\":\"pt-16 min-h-screen bg-[#f0f2f5]\",\"children\":[\"$\",\"div\",null,{\"className\":\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12\",\"children\":[[\"$\",\"$L10\",null,{\"href\":\"/blog\",\"className\":\"inline-flex items-center gap-2 text-[#b16cea] hover:text-[#ff5e69] mb-8 transition-colors font-medium\",\"children\":[[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-arrow-left w-5 h-5\",\"aria-hidden\":\"true\",\"children\":[[\"$\",\"path\",\"1l729n\",{\"d\":\"m12 19-7-7 7-7\"}],[\"$\",\"path\",\"x3x0zl\",{\"d\":\"M19 12H5\"}],\"$undefined\"]}],[\"$\",\"span\",null,{\"children\":\"Quay lại Blog\"}]]}],[\"$\",\"div\",null,{\"className\":\"bg-white rounded-xl shadow-sm border border-gray-200 p-8 md:p-12 mb-8\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"text-3xl md:text-5xl font-bold text-[#161513] mb-4 leading-tight\",\"children\":\"Lập trình TCP Sockets trong Java\"}],[\"$\",\"p\",null,{\"className\":\"text-lg text-gray-600 leading-relaxed mb-6\",\"children\":\"Tìm hiểu về TCP Sockets trong Java - cách tạo kết nối hai chiều giữa client và server, xây dựng ứng dụng mạng với Socket và ServerSocket.\"}],[\"$\",\"div\",null,{\"className\":\"flex items-center justify-between flex-wrap gap-4\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex flex-wrap gap-2\",\"children\":[[\"$\",\"span\",\"Java\",{\"className\":\"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-full text-sm font-medium\",\"children\":\"Java\"}],[\"$\",\"span\",\"TCP\",{\"className\":\"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-full text-sm font-medium\",\"children\":\"TCP\"}],[\"$\",\"span\",\"Sockets\",{\"className\":\"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-full text-sm font-medium\",\"children\":\"Sockets\"}],[\"$\",\"span\",\"Network Programming\",{\"className\":\"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-full text-sm font-medium\",\"children\":\"Network Programming\"}],[\"$\",\"span\",\"Client-Server\",{\"className\":\"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-full text-sm font-medium\",\"children\":\"Client-Server\"}]]}],[\"$\",\"span\",null,{\"className\":\"text-sm text-gray-500 whitespace-nowrap\",\"style\":{\"fontFamily\":\"var(--font-inter)\"},\"children\":\"2024-03-25\"}]]}]]}],[\"$\",\"article\",null,{\"className\":\"mb-12\",\"children\":[\"$\",\"div\",null,{\"className\":\"prose prose-lg max-w-none prose-headings:text-[#161513] prose-p:text-[#374151] prose-p:leading-relaxed prose-a:text-[#b16cea] prose-a:no-underline hover:prose-a:underline prose-strong:text-[#161513] prose-code:text-[#b16cea] prose-code:bg-gray-100 prose-code:px-1.5 prose-code:py-0.5 prose-code:rounded prose-code:text-sm prose-pre:bg-[#1f2937] prose-pre:rounded-lg prose-h2:text-2xl prose-h2:font-bold prose-h2:mt-12 prose-h2:mb-6 prose-h3:text-xl prose-h3:font-semibold prose-h3:mt-8 prose-h3:mb-4\",\"dangerouslySetInnerHTML\":{\"__html\":\"$11\"}}]}],\"$L12\",\"$L13\"]}]}]\n"])</script><script>self.__next_f.push([1,"14:I[8437,[\"437\",\"static/chunks/437-662f772b2654fde0.js\",\"500\",\"static/chunks/500-3ff701859ea2af56.js\",\"953\",\"static/chunks/app/blog/%5Bslug%5D/page-c28593380643696f.js\"],\"Image\"]\n15:I[8846,[\"437\",\"static/chunks/437-662f772b2654fde0.js\",\"500\",\"static/chunks/500-3ff701859ea2af56.js\",\"953\",\"static/chunks/app/blog/%5Bslug%5D/page-c28593380643696f.js\"],\"default\"]\n"])</script><script>self.__next_f.push([1,"12:[\"$\",\"div\",null,{\"className\":\"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center justify-between flex-wrap gap-6\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex items-center gap-4\",\"children\":[[\"$\",\"div\",null,{\"className\":\"relative w-16 h-16 rounded-full overflow-hidden bg-gradient-to-br from-indigo-400 to-purple-500 flex-shrink-0\",\"children\":[\"$\",\"$L14\",null,{\"src\":\"/images/avatar/avatar.png\",\"alt\":\"Truong Yen Phuong\",\"fill\":true,\"className\":\"object-cover\"}]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"h3\",null,{\"className\":\"font-semibold text-[#161513] text-lg mb-1\",\"children\":\"Truong Yen Phuong\"}],[\"$\",\"p\",null,{\"className\":\"text-sm text-gray-600\",\"children\":\"Tổng hợp kinh nghiệm\"}]]}]]}],[\"$\",\"div\",null,{\"className\":\"flex items-center gap-4 flex-wrap\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex items-center gap-2\",\"children\":[[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-share2 lucide-share-2 w-5 h-5 text-[#b16cea]\",\"aria-hidden\":\"true\",\"children\":[[\"$\",\"circle\",\"gq8acd\",{\"cx\":\"18\",\"cy\":\"5\",\"r\":\"3\"}],[\"$\",\"circle\",\"w7nqdw\",{\"cx\":\"6\",\"cy\":\"12\",\"r\":\"3\"}],[\"$\",\"circle\",\"1xt0gg\",{\"cx\":\"18\",\"cy\":\"19\",\"r\":\"3\"}],[\"$\",\"line\",\"47mynk\",{\"x1\":\"8.59\",\"x2\":\"15.42\",\"y1\":\"13.51\",\"y2\":\"17.49\"}],[\"$\",\"line\",\"1n3mei\",{\"x1\":\"15.41\",\"x2\":\"8.59\",\"y1\":\"6.51\",\"y2\":\"10.49\"}],\"$undefined\"]}],[\"$\",\"span\",null,{\"className\":\"font-semibold text-[#161513]\",\"children\":\"Chia sẻ bài viết:\"}]]}],[\"$\",\"$L15\",null,{\"title\":\"Lập trình TCP Sockets trong Java\",\"slug\":\"java-oop\"}]]}]]}]}]\n"])</script><script>self.__next_f.push([1,"13:[\"$\",\"div\",null,{\"className\":\"text-center\",\"children\":[\"$\",\"$L10\",null,{\"href\":\"/blog\",\"className\":\"inline-flex items-center gap-2 px-8 py-3 bg-gradient-to-r from-[#b16cea] to-[#ff5e69] text-white rounded-lg font-semibold hover:opacity-90 transition-opacity\",\"children\":[[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-arrow-left w-5 h-5\",\"aria-hidden\":\"true\",\"children\":[[\"$\",\"path\",\"1l729n\",{\"d\":\"m12 19-7-7 7-7\"}],[\"$\",\"path\",\"x3x0zl\",{\"d\":\"M19 12H5\"}],\"$undefined\"]}],\"Xem tất cả bài viết\"]}]}]\n"])</script><script>self.__next_f.push([1,"c:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n"])</script><script>self.__next_f.push([1,"16:I[6869,[],\"IconMark\"]\na:null\ne:[[\"$\",\"title\",\"0\",{\"children\":\"Lập trình TCP Sockets trong Java - Blog\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Tìm hiểu về TCP Sockets trong Java - cách tạo kết nối hai chiều giữa client và server, xây dựng ứng dụng mạng với Socket và ServerSocket.\"}],[\"$\",\"meta\",\"2\",{\"name\":\"author\",\"content\":\"Fang\"}],[\"$\",\"meta\",\"3\",{\"name\":\"keywords\",\"content\":\"Frontend Developer,UI/UX Designer,React,Next.js,JavaScript,Java,Portfolio\"}],[\"$\",\"meta\",\"4\",{\"property\":\"og:title\",\"content\":\"Truong Yen Phuong | Portfolio\"}],[\"$\",\"meta\",\"5\",{\"property\":\"og:description\",\"content\":\"Portfolio và Blog cá nhân về Frontend Development và UI/UX Design\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:type\",\"content\":\"website\"}],[\"$\",\"meta\",\"7\",{\"name\":\"twitter:card\",\"content\":\"summary\"}],[\"$\",\"meta\",\"8\",{\"name\":\"twitter:title\",\"content\":\"Truong Yen Phuong | Portfolio\"}],[\"$\",\"meta\",\"9\",{\"name\":\"twitter:description\",\"content\":\"Portfolio và Blog cá nhân về Frontend Development và UI/UX Design\"}],[\"$\",\"link\",\"10\",{\"rel\":\"icon\",\"href\":\"/portfolio-blog/favicon.ico?9e65197c8e8dbd7e\",\"type\":\"image/x-icon\",\"sizes\":\"454x454\"}],[\"$\",\"$L16\",\"11\",{}]]\n"])</script></body></html>